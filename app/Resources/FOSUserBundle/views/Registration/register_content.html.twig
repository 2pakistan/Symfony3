{% trans_default_domain 'FOSUserBundle' %}

<div class="container register">
    <div class="col-sm-offset-2">
        <div class=" header-register">
            <h1>Join us on Travellink today.</h1>
        </div>

        {{ form_start(form, {'method': 'post', 'action': path('fos_user_registration_register'), 'attr': {'class': 'fos_user_registration_register'}}) }}
        <!-- Username -->
        <div class="form-group row registerFormRow ">
            {{ form_label(form.username, null, {'label_attr': {'class': 'col-form-label col-sm-2'}}) }}
            <div class="col-sm-7">
                {{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div id="fos_user_registration_form_username_error" class="alert alert-danger hidden col-sm-3">
                <p></p>
            </div>
            {% if form.username.vars.errors|length > 0 %}
                <div class="alert alert-danger col-sm-3">
                    {{ form_errors(form.username) }}
                </div>
            {% endif %}
        </div>

        <!-- Nom -->
        <div class="row registerFormRow form-group">
            {{ form_label(form.nom, null, {'label_attr': {'class': 'control-label col-sm-2'}}) }}
            <div class="col-sm-7">
                {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div id="fos_user_registration_form_nom_error" class="alert alert-danger hidden col-sm-3 ">
                <p></p>
            </div>
            {% if form.nom.vars.errors|length > 0 %}
                <div class="col-sm-3 alert alert-danger">
                    {{ form_errors(form.nom) }}
                </div>
            {% endif %}
        </div>

        <!-- Prenom -->
        <div class="row registerFormRow form-group">
            {{ form_label(form.prenom, null, {'label_attr': {'class': 'control-label col-sm-2'}}) }}
            <div class="col-sm-7">
                {{ form_widget(form.prenom, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div id="fos_user_registration_form_prenom_error" class="alert alert-danger hidden col-sm-3 ">
                <p></p>
            </div>
            {% if form.prenom.vars.errors|length > 0 %}
                <div class="alert alert-danger col-sm-3">
                    {{ form_errors(form.prenom) }}
                </div>
            {% endif %}
        </div>

        <!-- Country -->
        <div class="row registerFormRow form-group">
            {{ form_label(form.nationalite, null, {'label_attr': {'class': 'control-label col-sm-2'}}) }}
            <div class="col-sm-7">
                {{ form_widget(form.nationalite, {'attr': {'class': 'form-control'}}) }}
            </div>
            {% if form.nationalite.vars.errors|length > 0 %}
                <div class="col-sm-3 alert alert-danger">
                    {{ form_errors(form.nationalite) }}
                </div>
            {% endif %}
        </div>

        <!-- Email -->
        <div class="row registerFormRow form-group">
            {{ form_label(form.email, null, {'label_attr': {'class': 'control-label col-sm-2'}}) }}
            <div class="col-sm-7">
                {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div id="fos_user_registration_form_email_error" class="alert alert-danger hidden col-sm-3 ">
                <p></p>
            </div>
            {% if form.email.vars.errors|length > 0 %}
                <div class="alert alert-danger col-sm-3">
                    {{ form_errors(form.email) }}
                </div>
            {% endif %}
        </div>

        <!-- Password -->
        <div class="row registerFormRow form-group">
            {{ form_label(form.plainPassword.first, null, {'label_attr': {'class': 'control-label col-sm-2'}}) }}
            <div class="col-sm-7">
                {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div id="fos_user_registration_form_plainPassword_first_error" class="alert alert-danger hidden col-sm-3 ">
                <p>The password must have 3 letters</p>
            </div>
            {% if form.plainPassword.first.vars.errors|length > 0 %}
                <div class="alert alert-danger col-sm-3">
                    {{ form_errors(form.plainPassword.first) }}
                </div>
            {% endif %}
        </div>

        <!-- Confirm password -->
        <div class="row registerFormRow form-group">
            {{ form_label(form.plainPassword.second, null, {'label_attr': {'class': 'control-label col-sm-2'}}) }}
            <div class="col-sm-7">
                {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control'}}) }}
            </div>
            <div id="fos_user_registration_form_plainPassword_second_error" class="alert alert-danger hidden col-sm-3 ">
                <p>Passwords don't match !</p>
            </div>
            {% if form.plainPassword.second.vars.errors|length > 0 %}
                <div class="alert alert-danger col-sm-3">
                    {{ form_errors(form.plainPassword.second) }}
                </div>
            {% endif %}
        </div>

        <!-- Description profil -->
        <div class="row registerFormRow form-group">
            {{ form_label(form.descriptionprofil, null, {'label_attr': {'class': 'control-label col-sm-2'}}) }}
            <div class="col-sm-7">
                {{ form_widget(form.descriptionprofil, {'attr': {'class': 'form-control'}}) }}
            </div>
            {% if form.descriptionprofil.vars.errors|length > 0 %}
                <div class="alert alert-danger col-sm-3">
                    {{ form_errors(form.descriptionprofil) }}
                </div>
            {% endif %}
        </div>

        <!-- input upload profile picture -->
        <div class="form-group registerFormRow row">
            {{ form(form.imagefile.delete, {'attr':{'class':'hide'}}) }}

            {{ form_label(form.imagefile.file, 'Profile picture' , {'label_attr': {'class':
                'control-label col-sm-2'}}) }}

            <div class="col-sm-7">
                <div class="input-group image-preview" id="profile-preview">
                            <span class="input-group-btn">
                            <!-- image-preview-input -->
                            <div class="btn btn-default image-preview-input" id="profile-preview-input">
                                <span class="glyphicon glyphicon-folder-open"></span>
                                <span class="image-preview-input-title" id="profile-preview-input-title" >Browse</span>
                                {{ form_widget(form.imagefile.file, {'attr':{'class':'form-control'}}) }}
                                <input type="file" accept="image/png, image/jpeg, image/gif" name="input-file-preview"/>
                                <!-- rename it -->
                            </div>
                                <button type="button" class="btn btn-default image-preview-clear" style="display:none;" id="profile-preview-clear">
                                    <span class="glyphicon glyphicon-remove"></span> Remove
                                </button>
                            </span>
                    <input type="text" class="form-control image-preview-filename" id="profile-preview-filename" disabled="disabled">
                </div>
            </div>
        </div>




        <!-- input upload cover picture -->
        <div class="form-group registerFormRow row">
            {{ form(form.imagefilecover.delete, {'attr':{'class':'hide'}}) }}

            {{ form_label(form.imagefilecover.file, 'Cover picture' , {'label_attr': {'class':
                'control-label col-sm-2'}}) }}

            <div class="col-sm-7">
                <div class="input-group image-preview" id="cover-preview">
                            <span class="input-group-btn">
                            <!-- image-preview-input -->
                            <div class="btn btn-default image-preview-input" id="cover-preview-input">
                                <span class="glyphicon glyphicon-folder-open"></span>
                                <span class="image-preview-input-title" id="cover-preview-input-title" >Browse</span>
                                {{ form_widget(form.imagefilecover.file, {'attr':{'class':'form-control'}}) }}
                                <input type="file" accept="image/png, image/jpeg, image/gif" name="input-file-preview"/>
                                <!-- rename it -->
                            </div>
                                <button type="button" class="btn btn-default image-preview-clear" style="display:none;" id="cover-preview-clear">
                                    <span class="glyphicon glyphicon-remove"></span> Remove
                                </button>
                            </span>
                    <input type="text" class="form-control image-preview-filename" id="cover-preview-filename" disabled="disabled">
                </div>
            </div>
        </div>





        <!-- Button submit Create account -->
        <div class="row registerFormRow form-group">
            <div class="col-sm-9">
                <input class="btn btn-lg btn-custom btn-block " type="submit"
                       value="{{ 'registration.submit'|trans }}"/>
            </div>
        </div>
        <!--  CSRF -->
        {{ form_widget(form._token) }}
        {% if form._token.vars.errors|length > 0 %}
            <div class="col-sm-3 alert alert-danger">
                {{ form_errors(form._token) }}
            </div>
        {% endif %}
        {{ form_end(form) }}
    </div>
</div>

